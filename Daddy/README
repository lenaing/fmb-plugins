Daddy is a more advanced bbcode parser using bbcode_parser.
http://christian-seiler.de/projekte/php/bbcode/index_en.html

It is adapted from flatpress' bbcode plugin:
http://wiki.flatpress.org/doc:plugins:bbcode

Available options are:

$fmbConf['daddy']['attach_dir'] // string: where the files are stored
$fmbConf['daddy']['images_dir'] // string: wherre the images are stored
$fmbConf['daddy']['url_maxlen'] // int: split long URLs
$fmbConf['daddy']['remap']      // string: regular expression if you'd like to remap URLS
$fmbConf['daddy']['catch']      // int: element of the previous expression to catch
$fmbConf['daddy']['use_handler']     // bool: use a php handler to download files. If images_dir and attach_dir are outside the site base dir, the handler is used.
$fmbConf['daddy']['rewrite_handler'] // string: when using the file handler, displays a "nice url". The '%f' string will be replaced by the filename

Default:

$fmbConf['daddy']['images_dir'] = $fmbConf['site']['url']."images/";
$fmbConf['daddy']['attach_dir'] = $fmbConf['site']['url']."files/";
$fmbConf['daddy']['url_maxlen'] = 80;
$fmbConf['daddy']['use_handler'] = false;

The remap option allows you to remap local URLS so you can use the thumb plugin.

Example:

$fmbConf['daddy']['remap'] = "^(https?://)?(www\.)?domain.tld/?(.*)$";
$fmbConf['daddy']['catch'] = 3;

This will catch the 3rd element so the path of image will be local.
Note: The remapping only works for the [img] tag.


$fmbConf['daddy']['use_handler'] = true;
$fmbConf['daddy']['rewrite_handler'] = '/get-%f';

With the 'rewrite_handler' we MUST setup a rewrite rule like this:
rewrite ^/get-(.+)$ /plugins/Daddy/getfile.php?f=$1;

With 'use_handler' set to 'true', all the links prefixed with 'attachs/' or prefixed with
$fmbConf['daddy']['attach_dir'] will be passed thru the handler.
Same with 'images' instead of 'attachs'.
